<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
	<!-- 如果需要动态修改配置文件，使其及时生效，需要增加下面的配置 扫描时间单位默认是秒 增加该配置后，每次修改需要保证配置文件的正确性 <configuration 
		scan="true" scanPeriod="5"> -->
	<!-- 异常堆栈中可以使用换行符，默认是空格 -->
	<pattern line.separator="\n" />
	<!-- 自己的app_id -->
	<property name="APP_ID" value="me.ele.scf.scfoperation" />
	<!-- 定义控制台输出 -->
	<appender name="ConsoleAppender" class="ch.qos.logback.core.ConsoleAppender">
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
			<level>INFO</level>
		</filter>
		<!-- <layout class="ch.qos.logback.classic.PatternLayout">
			<pattern>%d{yyyy-MM-dd HH:mm:ss.sss}^A^%p^A^%F^A^%M^A^%X{userId}^A^%m%n</pattern>
		</layout> -->
		<encoder />
	</appender>
	<!-- 输出到文件，文件日志需要去服务器上看 -->
	<appender name="FILE"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<!-- 输出大于该level的日志 -->
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
			<level>INFO</level>
		</filter>
		<file>/Users/sunwei/WorkSpace/HttpServer/apache-tomcat-8.0.29/logs/scfOperation/${APP_ID}/access.log
		</file>
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<fileNamePattern>/Users/sunwei/WorkSpace/HttpServer/apache-tomcat-8.0.29/logs/scfOperation/${APP_ID}/access.%d{yyyy-MM-dd}.log.gz
			</fileNamePattern>
			<maxHistory>7</maxHistory>
		</rollingPolicy>
		<encoder />
	</appender>
	<!-- 输出到syslog server，这个可以去elog的网页https://elog.elenet.me -->
	<appender name="SYSLOG" class="me.ele.elog.appender.SyslogAppender">
		<syslogHost>localhost</syslogHost>
		<facility>LOCAL6</facility>
		<!-- filter目前有2种常用的，任选其中一种；由于syslog是发udp包，udp server本身有配置过滤显示，所以推荐下面第一种 -->
		<!-- 输出大于该level的日志 -->
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
			<level>INFO</level>
		</filter>
	</appender>
	<!-- 异步appender，在输出日志比较多，并且有性能需求时，必须使用 -->
	<appender name="ASYNC" class="me.ele.elog.appender.AsyncAppender">
		<!-- 这个size首先要是2的幂，这是异步的缓冲队列，长度可以修改 -->
		<buffer size="2048" />
		<appender-ref ref="SYSLOG" />
		<appender-ref ref="FILE" />
	</appender>

	<root level="INFO">
		<appender-ref ref="ASYNC" />
		<appender-ref ref="ConsoleAppender" />
	</root>
</configuration>